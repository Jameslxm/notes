package com.lixm.notes.redbookimport android.app.Activityimport android.content.ActivityNotFoundExceptionimport android.content.Contextimport android.content.Intentimport android.net.Uriimport android.os.Buildimport android.os.Bundleimport android.view.Viewimport android.view.WindowManagerimport android.widget.ImageViewimport androidx.appcompat.app.AppCompatActivityimport com.lixm.notes.Rimport com.lixm.notes.redbook.widget.ParallaxContainer/** * Desc 小红书 * Author xm li * Date :2021/2/22 */class RedBookActivity : AppCompatActivity(){    var iv_man: ImageView? = null    var rl_weibo: ImageView? = null    var parallaxContainer: ParallaxContainer? = null    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        //获取当前窗体        //获取当前窗体//        val window = window//        window.setFlags(//            WindowManager.LayoutParams.FLAG_FULLSCREEN,//            WindowManager.LayoutParams.FLAG_FULLSCREEN//        )        setContentView(R.layout.activity_red_book)        /**         * 动画支持11以上sdk,11以下默认不显示动画         * 若需要支持11以下动画,也可导入https://github.com/JakeWharton/NineOldAndroids         */        /**         * 动画支持11以上sdk,11以下默认不显示动画         * 若需要支持11以下动画,也可导入https://github.com/JakeWharton/NineOldAndroids         */        if (Build.VERSION.SDK_INT > 10) {            iv_man = findViewById<View>(R.id.iv_man) as? ImageView            parallaxContainer =                findViewById<View>(R.id.parallax_container) as? ParallaxContainer            if (parallaxContainer != null) {                parallaxContainer?.setImage(iv_man)                parallaxContainer?.setLooping(false)                iv_man?.visibility = View.VISIBLE                parallaxContainer?.setupChildren(                    layoutInflater,                    R.layout.view_intro_1, R.layout.view_intro_2,                    R.layout.view_intro_3, R.layout.view_intro_4,                    R.layout.view_intro_5, R.layout.view_intro_6, R.layout.view_login                )            }        } else {            setContentView(R.layout.view_login)        }        rl_weibo = findViewById<View>(R.id.rl_weibo) as ImageView        rl_weibo?.setOnClickListener(View.OnClickListener {            try {                val uri =                    Uri.parse("market://details?id=com.xingin.xhs")                val intent = Intent(Intent.ACTION_VIEW, uri)                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)                startActivity(intent)            } catch (e: ActivityNotFoundException) {            }        })    }    companion object{        fun getIntent(context: Context) : Intent {            return Intent(context, RedBookActivity::class.java)        }    }}