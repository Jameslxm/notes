package com.lixm.notes.netimport android.os.Bundleimport androidx.appcompat.app.AppCompatActivityimport androidx.lifecycle.LiveDataimport androidx.lifecycle.MutableLiveDataimport androidx.lifecycle.Observerimport androidx.lifecycle.Transformationsimport timber.log.Timberclass NetTestActivity : AppCompatActivity() {    private val refreshTrigger = MutableLiveData<Boolean>()    private val api = WanApi.get()    private val bannerList: LiveData<ApiResponse<List<BannerVO>>> =        Transformations.switchMap(refreshTrigger) {            api.bannerList()        }    private val banners: LiveData<List<BannerVO>> = Transformations.map(bannerList){        it.data ?: ArrayList()    }    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        banners.observe(this, Observer {            Timber.w("===>$it")        })        loadData()    }    private fun loadData() {//        var bannerList = api.bannerList()//        bannerList.observe(this, Observer{//            Timber.d("==>result:${it.data}")//        })        refreshTrigger.value = true    }}